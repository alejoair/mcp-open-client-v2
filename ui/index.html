<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Open Client</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- React (Development mode for better error messages) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.js"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Ant Design CSS -->
    <link rel="stylesheet" href="https://unpkg.com/antd@5.28.0/dist/reset.css">

    <!-- Dayjs (required by Ant Design) -->
    <script src="https://unpkg.com/dayjs@1.11.7/dayjs.min.js"></script>

    <!-- Ant Design JS -->
    <script src="https://unpkg.com/antd@5.28.0/dist/antd.min.js"></script>

    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Tailwind for Canvas custom styles -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Ace Editor for code editing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/mode-python.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/theme-monokai.js"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background: #1a1a1a;
        }

        #root {
            min-height: 100vh;
        }

        /* Smooth scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #2a2a2a;
        }

        ::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #777;
        }

        /* Ant Design customizations */
        .ant-layout {
            min-height: 100vh;
            background: #1a1a1a;
        }

        .ant-layout-sider {
            background: #1f1f1f;
            box-shadow: 2px 0 8px rgba(0,0,0,0.3);
        }

        .ant-layout-content {
            background: #1a1a1a;
        }

        /* Collapse dark theme - specific to left sidebar */
        .ant-collapse {
            background: transparent !important;
            border: none !important;
        }

        .ant-collapse-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
        }

        .ant-collapse-header {
            background: rgba(255, 255, 255, 0.05) !important;
            color: rgba(255, 255, 255, 0.85) !important;
            padding: 12px 16px !important;
        }

        .ant-collapse-header:hover {
            background: rgba(255, 255, 255, 0.08) !important;
        }

        .ant-collapse-content {
            background: transparent !important;
            border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
        }

        .ant-collapse-content-box {
            background: transparent !important;
            padding: 0 !important;
        }

        .ant-collapse .ant-collapse-arrow {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        /* List dark theme */
        .ant-list {
            background: transparent !important;
            color: rgba(255, 255, 255, 0.9) !important;
        }

        .ant-list-item {
            background: transparent !important;
            border-bottom-color: rgba(255, 255, 255, 0.1) !important;
        }

        .ant-list-split .ant-list-item {
            border-bottom-color: rgba(255, 255, 255, 0.1) !important;
        }

        /* Empty component dark theme */
        .ant-empty {
            color: rgba(255, 255, 255, 0.5) !important;
        }

        .ant-empty-description {
            color: rgba(255, 255, 255, 0.5) !important;
        }

        /* Spin component dark theme */
        .ant-spin {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .ant-spin-text {
            color: rgba(255, 255, 255, 0.7) !important;
        }

        /* Tabs dark theme */
        .ant-tabs {
            color: rgba(255, 255, 255, 0.9) !important;
        }

        .ant-tabs-nav {
            background: #2a2a2a !important;
            border-bottom-color: rgba(255, 255, 255, 0.1) !important;
        }

        .ant-tabs-nav-wrap {
            background: transparent !important;
        }

        .ant-tabs-nav-operations {
            background: #2a2a2a !important;
            border-bottom-color: rgba(255, 255, 255, 0.1) !important;
        }

        .ant-tabs-tab {
            background: rgba(255, 255, 255, 0.05) !important;
            border-color: rgba(255, 255, 255, 0.1) !important;
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .ant-tabs-tab-active {
            background: rgba(255, 255, 255, 0.1) !important;
            color: rgba(255, 255, 255, 0.95) !important;
        }

        .ant-tabs-tab:hover {
            color: rgba(255, 255, 255, 0.9) !important;
        }

        .ant-tabs-nav-add {
            background: rgba(255, 255, 255, 0.05) !important;
            border-color: rgba(255, 255, 255, 0.1) !important;
            color: rgba(255, 255, 255, 0.7) !important;
        }

        .ant-tabs-nav-add:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            color: rgba(255, 255, 255, 0.9) !important;
        }

        .ant-tabs-content-holder {
            background: #1a1a1a !important;
        }

        .ant-tabs-content {
            background: #1a1a1a !important;
        }

        .ant-tabs-content-top {
            background: #1a1a1a !important;
        }

        .ant-tabs-tabpane {
            background: #1a1a1a !important;
        }

        .ant-tabs-ink-bar {
            background: #667eea !important;
        }

        /* Card animations */
        .ant-card {
            transition: all 0.3s ease;
        }

        .ant-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        /* Button enhancements */
        .ant-btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3);
        }

        .ant-btn-primary:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a3f91 100%);
            box-shadow: 0 4px 8px rgba(102, 126, 234, 0.4);
        }

        /* Badge enhancements */
        .ant-badge-count {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 2px 4px rgba(245, 87, 108, 0.3);
        }

        /* Tag enhancements */
        .ant-tag {
            border-radius: 4px;
            font-weight: 500;
        }

        /* Input focus */
        .ant-input:focus,
        .ant-input-focused {
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }

        /* Select focus */
        .ant-select-focused .ant-select-selector {
            border-color: #667eea !important;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1) !important;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        /* Glassmorphism effect */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Tabs content height fix */
        .ant-tabs-content {
            height: 100%;
        }

        .ant-tabs-tabpane {
            height: 100%;
        }
    </style>

</head>
<body>
    <div id="root"></div>

    <!-- Import services -->
    <script src="services/api.js"></script>
    <script src="services/providersService.js"></script>
    <script src="services/serversService.js"></script>
    <script src="services/conversationsService.js"></script>

    <!-- Import contexts -->
    <script type="text/babel" src="contexts/ProvidersContext.js"></script>
    <script type="text/babel" src="contexts/ServersContext.js"></script>
    <script type="text/babel" src="contexts/ConversationsContext.js"></script>

    <!-- Import hooks -->
    <script type="text/babel" src="hooks/useProviders.js"></script>
    <script type="text/babel" src="hooks/useServers.js"></script>
    <script type="text/babel" src="hooks/useConversations.js"></script>
    <script type="text/babel" src="hooks/useSSEConnection.js"></script>

    <!-- Import components with Babel -->
    <script type="text/babel" src="components/configuration.js"></script>
    <script type="text/babel" src="components/mcp_servers.js"></script>
    <script type="text/babel" src="components/conversations-list.js"></script>
    <script type="text/babel" src="components/conversation-settings-modal.js"></script>
    <script type="text/babel" src="components/conversation-tools-modal.js"></script>

    <!-- Chat components -->
    <script type="text/babel" src="components/markdown-renderer.js"></script>
    <script type="text/babel" src="components/chat-message.js"></script>
    <script type="text/babel" src="components/chat-messages-list.js"></script>
    <script type="text/babel" src="components/chat-input.js"></script>
    <script type="text/babel" src="components/chat-container.js"></script>

    <script type="text/babel" src="components/chat-layout.js"></script>
    <script type="text/babel" src="components/left_sidebar.js"></script>

    <!-- Conversation info components -->
    <script type="text/babel" src="components/conversation-info/token-counter.js"></script>
    <script type="text/babel" src="components/conversation-info/metadata-panel.js"></script>
    <script type="text/babel" src="components/conversation-info/tools-list.js"></script>
    <script type="text/babel" src="components/conversation-info/context-items.js"></script>
    <script type="text/babel" src="components/conversation-info/open-editors.js"></script>

    <script type="text/babel" src="components/right_sidebar.js"></script>
    <script type="text/babel" src="components/header.js"></script>
    <script type="text/babel" src="components/main_content.js"></script>
    <script type="text/babel" src="components/main_layout.js"></script>

    <script type="text/babel">
        function App() {
            return (
                <ProvidersProvider>
                    <ServersProvider>
                        <ConversationsProvider>
                            <MainLayout />
                        </ConversationsProvider>
                    </ServersProvider>
                </ProvidersProvider>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
